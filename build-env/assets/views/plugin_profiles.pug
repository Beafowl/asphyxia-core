extends _layout.pug

block content
  if profiles.length > 0
    .columns.is-multiline
      each profile in profiles
        .column.is-half
          .card
            header.card-header
              p.card-header-title
                span.icon
                  i.mdi.mdi-file
                | #{profile.coreProfile.name}
            .card-content
              .level
                .level-item.has-text-centered
                  .image.is-64x64(jdenticon=profile.coreProfile.name jdenticon-size=64)
                .level-item.has-text-centered
                  div
                    p.heading ID
                    p
                      span.tag.is-info #{profile.refid}
              .level
                .level-item.has-text-centered
                  div
                    p.heading Name
                    p.subtitle #{profile.name}
                .level-item.has-text-centered
                  div
                    p.heading Data Usage
                    p.subtitle #{profile.dataSize}
              .buttons.is-right
                if hasCustomPage
                  a.button.is-primary(href=`/plugin/${plugin}/profile?refid=${profile.refid}`)
                    span.icon.is-small
                      i.mdi.mdi-account-edit
                    span Detail
                button.button.is-danger.is-outlined.jb-modal.profile-delete(data-target="confirm-modal" deleting=profile.refid deleting-name=profile.coreProfile.name)
                  span.icon.is-small
                    i.mdi.mdi-trash-can
                  span Delete


  else
    section.section
      .content.has-text-grey.has-text-centered
        p
          span.icon.is-large
            i.mdi.mdi-emoticon-happy.mdi-48px
        p Nothing's here yet. Let's play!
  
  .modal#confirm-modal
    .modal-background.jb-modal-close
    .modal-card
      header.modal-card-head
        span.icon.has-text-danger
          i.mdi.mdi-alert.mdi-18px
        p.modal-card-title.has-text-weight-semibold#confirm-modal-title Deleting
      section.modal-card-body
        p
          b Are you sure?
        p You will not be able to undo this action.
      footer.modal-card-foot
        button.button.jb-modal-close Cancel
        button.button.is-danger#confirm-delete Delete
    button.modal-close.is-large.jb-modal-close

block scripts
  script(type="text/javascript" src="/static/js/plugin_profiles.js")